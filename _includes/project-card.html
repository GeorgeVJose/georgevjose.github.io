<article class="project-card" data-category="{{ category_id }}">
  {% if project.media %}
    <div class="project-card__media">
      {% case project.media.type %}
      {% when "video" %}
        <div class="project-card__video">
          <video autoplay loop muted playsinline>
            <source src="{{ project.media.src | relative_url }}" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>
      {% else %}
        <figure>
          <img src="{{ project.media.src | relative_url }}" alt="{{ project.media.alt | default: project.title }}" loading="lazy" />
        </figure>
      {% endcase %}
    </div>
  {% endif %}
  <div class="project-card__body">
    <header class="project-card__header">
      <h3 class="project-card__title">{{ project.title }}</h3>
      {% if project.subtitle %}
        <p class="project-card__subtitle">{{ project.subtitle }}</p>
      {% endif %}
    </header>
    {% if project.summary %}
      <div class="project-card__summary">
        {{ project.summary | markdownify }}
      </div>
    {% endif %}
    {% if project.metrics %}
      <ul class="project-card__metrics">
        {% for metric in project.metrics %}
          <li class="project-card__metric">
            <span class="project-card__metric-value">{{ metric.value }}</span>
            <span class="project-card__metric-label">{{ metric.label }}</span>
          </li>
        {% endfor %}
      </ul>
    {% endif %}
    {% if project.technologies %}
      <ul class="project-card__technologies">
        {% for technology in project.technologies %}
          <li>{{ technology }}</li>
        {% endfor %}
      </ul>
    {% endif %}
    {% if project.links %}
      <div class="project-card__actions">
        {% for link in project.links %}
          <a class="btn btn--{{ link.style | default: 'primary' }}" href="{{ link.url }}" target="_blank" rel="noopener">{{ link.label }}</a>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</article>
